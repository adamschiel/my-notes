(this["webpackJsonpmy-notes"]=this["webpackJsonpmy-notes"]||[]).push([[0],{67:function(e,t,n){e.exports=n(81)},72:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(8),r=n.n(i),l=(n(72),n(14)),c=n(34),s=n(19),d=n(46),u=n(47),f=n(54),m=n(127),v=n(130),h=n(128),p=n(83),g=n(129),E=n(53),w=n.n(E),b=n(30),N=n(124),y=n(123),k=n(133),S=n(131),C=n(126),O=n(49),j=n.n(O),x=n(50),A=n.n(x),T=n(51),D=n.n(T),B=n(125),W=n(82),z=n(122),I=n(121),P=n(120),R=function(e){var t=e.title,n=e.children,a=e.open,i=e.setOpen,r=e.onConfirm;return o.a.createElement(k.a,{open:a,onClose:function(){return i(!1)},"aria-labelledby":"confirm-dialog"},o.a.createElement(P.a,{id:"confirm-dialog"},t),o.a.createElement(I.a,null,n),o.a.createElement(z.a,null,o.a.createElement(y.a,{variant:"contained",onClick:function(){return i(!1)},color:"secondary"},"No"),o.a.createElement(y.a,{variant:"contained",onClick:function(){i(!1),r()},color:"default"},"Yes")))},F=Object(N.a)((function(e){return{appBar:{position:"relative"},dialogEditTitle:{marginLeft:e.spacing(2),flex:1},noteTitle:{margin:3,overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"},noteData:{margin:3,overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"},noteButton:{backgroundColor:"yellow",paddingTop:"75%",position:"relative",width:"100%",textTransform:"none"},notePaper:{backgroundColor:"yellow",position:"absolute",top:2,left:2,bottom:2,right:2},noteTextField:{margin:10}}})),L=o.a.forwardRef((function(e,t){return o.a.createElement(B.a,Object.assign({direction:"up",ref:t},e))}));function M(e){var t=F(),n=o.a.useState(!1),a=Object(b.a)(n,2),i=a[0],r=a[1],l=o.a.useState(!1),c=Object(b.a)(l,2),s=c[0],d=c[1],u=function(){r(!1)};return o.a.createElement("div",null,o.a.createElement(y.a,{variant:"outlined",color:"primary",className:t.noteButton,onClick:function(){r(!0)}},o.a.createElement(W.a,{elevation:0,className:t.notePaper},o.a.createElement(p.a,{variant:"h6",className:t.noteTitle},e.note.title),o.a.createElement(C.a,null),o.a.createElement(p.a,{className:t.noteData},e.note.data))),o.a.createElement(k.a,{fullScreen:!0,open:i,onClose:u,TransitionComponent:L},o.a.createElement(m.a,{className:t.appBar},o.a.createElement(h.a,null,o.a.createElement(g.a,{edge:"start",color:"inherit",onClick:u,"aria-label":"close"},o.a.createElement(j.a,{fontSize:"large"})),o.a.createElement(p.a,{variant:"h6",className:t.dialogEditTitle},"Edit Note"),o.a.createElement(g.a,{edge:"start",color:"inherit",onClick:function(){return d(!0)},"aria-label":"delete"},o.a.createElement(A.a,{fontSize:"large"})),o.a.createElement(R,{title:"Delete Note?",open:s,setOpen:d,onConfirm:function(){e.onNoteDelete(e.note.id),u()}},"Are you sure you want to delete this note?"),o.a.createElement(g.a,{edge:"start",color:"inherit",onClick:function(){e.onNoteSave(e.note.id,document.getElementById("note-title-tf-"+e.note.id).value,document.getElementById("note-data-tf-"+e.note.id).value),u()},"aria-label":"save"},o.a.createElement(D.a,{fontSize:"large"})))),o.a.createElement(S.a,{id:"note-title-tf-"+e.note.id,variant:"outlined",label:"Title",defaultValue:e.note.title,className:t.noteTextField}),o.a.createElement(S.a,{multiline:!0,id:"note-data-tf-"+e.note.id,variant:"outlined",label:"Note",defaultValue:e.note.data,className:t.noteTextField})))}var U=new(n(52).a)("MyNotesIDB");U.version(1).stores({notes:"++id,title,data"});var J=U,V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleNoteSave=function(e,t,a){J.table("notes").update(e,{title:t,data:a,date:Date.now()}).then((function(){var o=n.state.notes.find((function(t){return t.id===e})),i=[].concat(Object(l.a)(n.state.notes.filter((function(t){return t.id!==e}))),[Object.assign({},o,{title:t,data:a,date:Date.now()})]);i.sort((function(e,t){return e.date<t.date})),n.setState({notes:i})}))},n.handleNoteDelete=function(e){J.table("notes").delete(e).then((function(){var t=n.state.notes.filter((function(t){return t.id!==e}));n.setState({notes:t})}))},n.handleNoteAdd=function(){var e={title:"",data:"",date:Date.now()};J.table("notes").add(e).then((function(t){var a=[].concat(Object(l.a)(n.state.notes),[Object.assign({},e,{id:t})]);a.sort((function(e,t){return e.date<t.date})),n.setState({notes:a})}))},n.state={notes:[]},n}return Object(f.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;J.table("notes").toArray().then((function(t){t.sort((function(e,t){return e.date<t.date})),e.setState({notes:t})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(m.a,{position:"static"},o.a.createElement(h.a,null,o.a.createElement(p.a,{variant:"title",color:"inherit",style:{textAlign:"left",flex:1}},"My Notes"),o.a.createElement(g.a,{edge:"start",color:"inherit",onClick:this.handleNoteAdd,"aria-label":"add"},o.a.createElement(w.a,{fontSize:"large"})))),this.state.notes?o.a.createElement(v.a,{container:!0,spacing:1,style:{padding:8}},this.state.notes.map((function(t){return o.a.createElement(v.a,{item:!0,xs:4,sm:3,lg:2,xl:1},o.a.createElement(M,{note:t,onNoteSave:e.handleNoteSave,onNoteDelete:e.handleNoteDelete}))}))):"No notes found")}}]),t}(a.Component);n(80);var Y=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(V,null))},$=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(o.a.createElement(Y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/my-notes",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/my-notes","/service-worker.js");$?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):q(t,e)}))}}()}},[[67,1,2]]]);
//# sourceMappingURL=main.9853c6ea.chunk.js.map